{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport swal from 'sweetalert';\nimport $ from 'jquery';\nimport I18n from 'i18n-js';\nimport select2 from 'select2';\nimport 'javascripts/i18n/translations';\nimport { toastr } from './notifications';\nI18n.locale = window.I18n.locale;\ndocument.addEventListener(\"turbolinks:before-cache\", function () {\n  $('[data-toggle=\"m-tooltip\"]').tooltip('hide');\n  $('.selectpicker').selectpicker('destroy');\n});\n$(document).on('turbolinks:load', function () {\n  $('.loading-screen').hide();\n  $('.dir').click(function (e) {\n    e.stopPropagation();\n    $(this).children().slideToggle();\n  });\n  $('li').on('click', function () {\n    $(this).siblings().removeClass('active');\n    $(this).addClass('active');\n  }); // Custom search field for table content\n\n  $('.search-field').on('change', function () {\n    var $this = $(this);\n    $this.toggleClass('expand-input', $this.val() ? true : false);\n  });\n  $('[data-toggle=\"tooltip\"]').tooltip(); // Sweet Alert modal for delete elements\n\n  $('.btn-destroy').click(function (event) {\n    var element, resource, resourceId, resourceMsg, row, url, authenticityToken;\n    element = $(this);\n    row = element.closest('tr');\n    resource = element.data('resource');\n    resourceId = element.data('resource-id');\n    resourceMsg = element.data('resource-message');\n    url = \"/\".concat(resource, \"/\").concat(resourceId);\n    authenticityToken = $('[name=\"csrf-token\"]')[0] && $('[name=\"csrf-token\"]')[0].content;\n    swal(resourceMsg, {\n      buttons: {\n        cancel: I18n.t('messages.cancel'),\n        confirm: {\n          text: I18n.t('messages.delete'),\n          closeModal: true\n        }\n      }\n    }).then(function (isConfirm) {\n      if (!isConfirm) {\n        return;\n      }\n\n      $.ajax({\n        url: url,\n        data: {\n          authenticity_token: authenticityToken\n        },\n        type: 'DELETE',\n        dataType: 'json',\n        success: function success(data) {\n          swal({\n            title: I18n.t('messages.done'),\n            text: I18n.t('messages.deleted'),\n            type: 'success',\n            confirmButtonText: I18n.t('messages.ok')\n          });\n          $(row).remove();\n        },\n        error: function error(_error) {\n          var message = I18n.t('messages.try_again');\n\n          if (_error.responseJSON && _error.responseJSON.message) {\n            message = _error.responseJSON.message;\n          }\n\n          swal(I18n.t('messages.error'), message, 'error');\n        }\n      });\n    });\n  }); // bootstrap-select initializer\n\n  $('.selectpicker, .per-page-selectpicker').selectpicker(); // select2 initializer\n\n  $('.select2-multiple').select2({\n    closeOnSelect: false\n  }); // Submit for elements per page on tables\n\n  $('.per-page-pagination').on('change', function () {\n    $(this).closest('form').submit();\n  }); // Simulate click for file_field on edit user\n\n  $('.hover-image').on('click', function () {\n    $('.update-picture').click();\n  }); // Replace profile picture on edit user\n\n  $('.update-picture').on('change', function () {\n    readURL(this);\n  });\n  $('.price').blur(function () {\n    var sum = 0;\n    $('.price').each(function () {\n      sum += Number($(this).val());\n    });\n    document.getElementById(\"totalId\").value = sum;\n  }); // console.log(document.getElementById(\"idStepOne\"));\n  // console.log(document.getElementById(\"idStepOne\").value);\n\n  $('#idFile').bind(\"change\", function () {});\n\n  window.validate_files = function () {\n    var authorizationFile = document.getElementById(\"authorizationFile\").value;\n    var idFile = document.getElementById(\"idFile\").value;\n    var constancyFile = document.getElementById(\"constancyFile\").value;\n    var financialStatementsOneFile = document.getElementById(\"financialStatementsOneFile\").value;\n    var financialStatementsTwoFile = document.getElementById(\"financialStatementsTwoFile\").value;\n    var financialStatementsParcialFile = document.getElementById(\"financialStatementsParcialFile\").value;\n\n    if (authorizationFile && idFile && constancyFile && financialStatementsOneFile && financialStatementsTwoFile && financialStatementsParcialFile) {\n      $('#filesBtn').attr('class', 'btn btn-primary col-xl-12');\n    }\n  };\n\n  if (document.getElementById(\"idStepOne\")) {\n    var stepOne = document.getElementById(\"idStepOne\").value;\n    var stepTwo = document.getElementById(\"idStepTwo\").value;\n    var stepThree = document.getElementById(\"idStepThree\").value;\n    var stepFour = document.getElementById(\"idStepFour\").value;\n    var stepFive = document.getElementById(\"idStepFive\").value;\n    var stepSix = document.getElementById(\"idStepSix\").value;\n  }\n\n  if (!stepOne) {\n    $('#step-0').show();\n    $(\"#buttonCero\").hide();\n  }\n\n  if (stepOne && !stepTwo) {\n    $('#step-1').show();\n    $(\"#buttonOne\").hide();\n  }\n\n  if (stepTwo && !stepThree) {\n    $('#step-2').show();\n    $(\"#buttonTwo\").hide();\n  }\n\n  if (stepThree && !stepFour) {\n    $('#step-3').show();\n    $(\"#buttonThree\").hide();\n  }\n\n  if (stepFour && !stepFive) {\n    $('#step-4').show();\n    $(\"#buttonFour\").hide();\n  }\n\n  if (stepFive && !stepSix) {\n    $('#step-5').show();\n    $(\"#buttonFive\").hide();\n  }\n\n  if (stepSix) {\n    $('#step-6').show();\n    $('#filesBtn').attr('class', 'btn btn-primary col-xl-12 btn-section-disabled');\n  }\n\n  window.prevPageNew = function (prev, current) {\n    $(\"#step-\" + current).hide();\n    $(\"#step-\" + prev).show();\n  };\n\n  window.nextPageNew = function (next, current) {\n    $(\"#step-\" + current).hide();\n    $(\"#step-\" + next).show();\n  };\n\n  window.prevPage = function (prev, current) {\n    console.log(\"prev page\");\n    document.getElementById(\"page-\" + prev).style.display = \"block\";\n    document.getElementById(\"page-\" + current).style.display = \"none\";\n    document.getElementById(\"step\" + current).style.opacity = 0.5;\n    $(\"#step\" + prev).removeClass('completed').addClass('active');\n    $(\"#ind\" + prev).removeClass('active');\n    $(\"#step\" + current).removeClass('completed').removeClass('active');\n    $(\"#step\" + prev + \" > .step-icon\").html(prev);\n    $(\"#stepDesc\" + current).addClass('inactive');\n  };\n\n  window.nextPage = function (next, current) {\n    document.getElementById(\"page-\" + next).style.display = \"block\";\n    document.getElementById(\"page-\" + current).style.display = \"none\";\n    document.getElementById(\"step\" + next).style.opacity = 1;\n    $(\"#step\" + next).addClass('active');\n    $(\"#stepDesc\" + next).removeClass('inactive');\n    $(\"#step\" + current).addClass('completed').removeClass('active');\n    $(\"#ind\" + current).addClass('active');\n    $(\"#step\" + current + \" > .step-icon\").html(\"<i class='fa fa-check' aria-hidden='true'></i>\");\n  };\n\n  $('input.focusable-input').focus(function () {\n    $(this).parent().parent().addClass('highlightedRowColumn');\n    var colIdx = $(this).closest(\"td\").index();\n    $(\"td:nth-child(\" + (colIdx + 1) + \")\").addClass('highlightedRowColumn');\n  });\n  $('input.focusable-input').blur(function () {\n    $(this).parent().parent().removeClass('highlightedRowColumn');\n    var colIdx = $(this).closest(\"td\").index();\n    $(\"td:nth-child(\" + (colIdx + 1) + \")\").removeClass('highlightedRowColumn');\n  });\n  $(document).ready(function () {\n    $(\"td\").filter(function (index) {\n      return $(this).html() == \"0\";\n    }).parent().addClass(\"zero\");\n  });\n  $(\"td:contains('1')\").parent().addClass(\"one\");\n});\n\nvar readURL = function readURL(input) {\n  if (input.files[0]) {\n    var reader = new FileReader();\n    var ext = getFileExtension(input.files[0].name);\n    var validImageTypes = ['gif', 'jpeg', 'png', 'jpg'];\n\n    if (validImageTypes.includes(ext)) {\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  reader.onload = function (e) {\n    $('.profile-picture').attr('src', e.target.result);\n    $('.profile-picture').attr('style', 'object-fit:cover; width:130px; height:130px;');\n  };\n};\n\nvar getFileExtension = function getFileExtension(filename) {\n  return filename.split('.').pop();\n};\n\nvar cascadeSelects = function cascadeSelects(source, destination, url) {\n  var ajaxRequest = function ajaxRequest(resource, edit) {\n    if (resource !== '') {\n      $.get(url, {\n        resource: resource\n      }, function (data) {\n        destination.empty();\n\n        if (data.length > 0) {\n          var _iterator = _createForOfIteratorHelper(data),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var action = _step.value;\n              destination.append($('<option>', {\n                value: action[0],\n                text: action[1]\n              }));\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          edit && destination.val(destination.data('value'));\n        } else {\n          destination.append($('<option>', {\n            value: '',\n            text: I18n.t('helpers.select.no_options')\n          }));\n        }\n\n        $('.selectpicker').selectpicker('refresh');\n      }).fail(function () {\n        toastr.warning(I18n.t('messages.try_again'));\n      });\n    }\n  };\n\n  ajaxRequest(source.val(), true);\n  source.on('change', function (e) {\n    var resource = $(e.target).val();\n    ajaxRequest(resource, false);\n  });\n};\n\nexport { cascadeSelects };","map":{"version":3,"sources":["/Users/vponce/Desarrollos/credits_factor_global/app/javascript/packs/general.js"],"names":["swal","$","I18n","select2","toastr","locale","window","document","addEventListener","tooltip","selectpicker","on","hide","click","e","stopPropagation","children","slideToggle","siblings","removeClass","addClass","$this","toggleClass","val","event","element","resource","resourceId","resourceMsg","row","url","authenticityToken","closest","data","content","buttons","cancel","t","confirm","text","closeModal","then","isConfirm","ajax","authenticity_token","type","dataType","success","title","confirmButtonText","remove","error","message","responseJSON","closeOnSelect","submit","readURL","blur","sum","each","Number","getElementById","value","bind","validate_files","authorizationFile","idFile","constancyFile","financialStatementsOneFile","financialStatementsTwoFile","financialStatementsParcialFile","attr","stepOne","stepTwo","stepThree","stepFour","stepFive","stepSix","show","prevPageNew","prev","current","nextPageNew","next","prevPage","console","log","style","display","opacity","html","nextPage","focus","parent","colIdx","index","ready","filter","input","files","reader","FileReader","ext","getFileExtension","name","validImageTypes","includes","readAsDataURL","onload","target","result","filename","split","pop","cascadeSelects","source","destination","ajaxRequest","edit","get","empty","length","action","append","fail","warning"],"mappings":"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","sourcesContent":["import swal from 'sweetalert';\nimport $ from 'jquery';\nimport I18n from 'i18n-js';\nimport select2 from 'select2';\nimport 'javascripts/i18n/translations';\nimport {toastr} from './notifications';\n\nI18n.locale = window.I18n.locale;\n\ndocument.addEventListener(\"turbolinks:before-cache\", function () {\n    $('[data-toggle=\"m-tooltip\"]').tooltip('hide');\n    $('.selectpicker').selectpicker('destroy');\n});\n\n$(document).on('turbolinks:load', function () {\n    $('.loading-screen').hide();\n\n    $('.dir').click(function (e) {\n        e.stopPropagation();\n        $(this).children().slideToggle();\n    });\n\n    $('li').on('click', function () {\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n    });\n\n    // Custom search field for table content\n    $('.search-field').on('change', function () {\n        let $this = $(this);\n        $this.toggleClass('expand-input', $this.val() ? true : false);\n    });\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    // Sweet Alert modal for delete elements\n    $('.btn-destroy').click(function (event) {\n        let element, resource, resourceId, resourceMsg, row, url, authenticityToken;\n        element = $(this);\n        row = element.closest('tr');\n        resource = element.data('resource');\n        resourceId = element.data('resource-id');\n        resourceMsg = element.data('resource-message');\n        url = `/${resource}/${resourceId}`;\n        authenticityToken = $('[name=\"csrf-token\"]')[0] && $('[name=\"csrf-token\"]')[0].content;\n        swal(resourceMsg, {\n            buttons: {\n                cancel: I18n.t('messages.cancel'),\n                confirm: {\n                    text: I18n.t('messages.delete'),\n                    closeModal: true\n                }\n            }\n        }).then(function (isConfirm) {\n            if (!isConfirm) {\n                return;\n            }\n            $.ajax({\n                url: url,\n                data: {authenticity_token: authenticityToken},\n                type: 'DELETE',\n                dataType: 'json',\n                success: function (data) {\n                    swal({\n                        title: I18n.t('messages.done'),\n                        text: I18n.t('messages.deleted'),\n                        type: 'success',\n                        confirmButtonText: I18n.t('messages.ok')\n                    });\n                    $(row).remove();\n                },\n                error: function (error) {\n                    let message = I18n.t('messages.try_again');\n                    if (error.responseJSON && error.responseJSON.message) {\n                        message = error.responseJSON.message;\n                    }\n                    swal(I18n.t('messages.error'), message, 'error');\n                }\n            });\n        });\n    });\n\n    // bootstrap-select initializer\n    $('.selectpicker, .per-page-selectpicker').selectpicker();\n\n    // select2 initializer\n    $('.select2-multiple').select2({\n        closeOnSelect: false,\n    });\n\n    // Submit for elements per page on tables\n    $('.per-page-pagination').on('change', function () {\n        $(this).closest('form').submit();\n    });\n\n    // Simulate click for file_field on edit user\n    $('.hover-image').on('click', function () {\n        $('.update-picture').click();\n    });\n\n    // Replace profile picture on edit user\n    $('.update-picture').on('change', function () {\n        readURL(this);\n    });\n\n    $('.price').blur(function () {\n        var sum = 0;\n        $('.price').each(function () {\n            sum += Number($(this).val());\n        });\n\n        document.getElementById(\"totalId\").value = sum;\n\n    });\n\n    // console.log(document.getElementById(\"idStepOne\"));\n    // console.log(document.getElementById(\"idStepOne\").value);\n\n    $('#idFile').bind(\"change\", function() {\n    });\n\n\n\n\n    window.validate_files = function(){\n        var authorizationFile = document.getElementById(\"authorizationFile\").value;\n        var idFile = document.getElementById(\"idFile\").value;\n        var constancyFile = document.getElementById(\"constancyFile\").value;\n        var financialStatementsOneFile = document.getElementById(\"financialStatementsOneFile\").value;\n        var financialStatementsTwoFile = document.getElementById(\"financialStatementsTwoFile\").value;\n        var financialStatementsParcialFile = document.getElementById(\"financialStatementsParcialFile\").value;\n\n        if(authorizationFile && idFile && constancyFile && financialStatementsOneFile && financialStatementsTwoFile\n            && financialStatementsParcialFile){\n            $('#filesBtn').attr('class', 'btn btn-primary col-xl-12');\n        }\n\n\n\n    };\n\n    if(document.getElementById(\"idStepOne\")){\n        var stepOne = document.getElementById(\"idStepOne\").value;\n        var stepTwo = document.getElementById(\"idStepTwo\").value;\n        var stepThree = document.getElementById(\"idStepThree\").value;\n        var stepFour = document.getElementById(\"idStepFour\").value;\n        var stepFive = document.getElementById(\"idStepFive\").value;\n        var stepSix = document.getElementById(\"idStepSix\").value;\n    }\n\n\n    if (!stepOne) {\n        $('#step-0').show();\n        $(\"#buttonCero\").hide();\n    }\n\n    if (stepOne && !stepTwo) {\n        $('#step-1').show();\n        $(\"#buttonOne\").hide();\n    }\n\n    if (stepTwo && !stepThree) {\n        $('#step-2').show();\n        $(\"#buttonTwo\").hide();\n    }\n\n    if (stepThree && !stepFour) {\n        $('#step-3').show();\n        $(\"#buttonThree\").hide();\n    }\n\n    if (stepFour && !stepFive) {\n        $('#step-4').show();\n        $(\"#buttonFour\").hide();\n    }\n\n    if (stepFive && !stepSix) {\n        $('#step-5').show();\n        $(\"#buttonFive\").hide();\n    }\n\n    if (stepSix) {\n        $('#step-6').show();\n        $('#filesBtn').attr('class', 'btn btn-primary col-xl-12 btn-section-disabled');\n    }\n\n\n    window.prevPageNew = function (prev, current) {\n        $(\"#step-\" + current).hide();\n        $(\"#step-\" + prev).show();\n\n\n    };\n\n    window.nextPageNew = function (next, current) {\n        $(\"#step-\" + current).hide();\n        $(\"#step-\" + next).show();\n\n    };\n\n\n    window.prevPage = function (prev, current) {\n        console.log(\"prev page\");\n        document.getElementById(\"page-\" + prev).style.display = \"block\";\n        document.getElementById(\"page-\" + current).style.display = \"none\";\n        document.getElementById(\"step\" + current).style.opacity = 0.5;\n\n        $(\"#step\" + prev).removeClass('completed').addClass('active');\n        $(\"#ind\" + prev).removeClass('active');\n\n        $(\"#step\" + current).removeClass('completed').removeClass('active');\n        $(\"#step\" + prev + \" > .step-icon\").html(prev);\n\n\n        $(\"#stepDesc\" + current).addClass('inactive');\n    }\n\n    window.nextPage = function (next, current) {\n        document.getElementById(\"page-\" + next).style.display = \"block\";\n        document.getElementById(\"page-\" + current).style.display = \"none\";\n        document.getElementById(\"step\" + next).style.opacity = 1;\n\n        $(\"#step\" + next).addClass('active');\n\n        $(\"#stepDesc\" + next).removeClass('inactive');\n        $(\"#step\" + current).addClass('completed').removeClass('active');\n        $(\"#ind\" + current).addClass('active');\n        $(\"#step\" + current + \" > .step-icon\").html(\"<i class='fa fa-check' aria-hidden='true'></i>\");\n    }\n\n    $('input.focusable-input').focus(function() {\n        $(this).parent().parent().addClass('highlightedRowColumn');\n        var colIdx = $(this).closest(\"td\").index();\n        $(\"td:nth-child(\" + (colIdx +1) + \")\").addClass('highlightedRowColumn');\n    });\n\n    $('input.focusable-input').blur(function() {\n        $(this).parent().parent().removeClass('highlightedRowColumn');\n        var colIdx = $(this).closest(\"td\").index();\n        $(\"td:nth-child(\" + (colIdx +1) + \")\").removeClass('highlightedRowColumn');\n    });\n\n\n    $(document).ready(function(){\n        $(\"td\").filter(function(index) {\n            return $(this).html() == \"0\";\n        }).parent().addClass(\"zero\");\n    });\n    $(\"td:contains('1')\").parent().addClass(\"one\");\n});\n\nlet readURL = (input) => {\n    if (input.files[0]) {\n        var reader = new FileReader();\n        let ext = getFileExtension(input.files[0].name);\n        let validImageTypes = ['gif', 'jpeg', 'png', 'jpg'];\n        if (validImageTypes.includes(ext)) {\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n\n    reader.onload = function (e) {\n        $('.profile-picture').attr('src', e.target.result);\n        $('.profile-picture').attr('style', 'object-fit:cover; width:130px; height:130px;');\n    }\n};\n\nlet getFileExtension = (filename) => {\n    return filename.split('.').pop();\n};\n\nlet cascadeSelects = (source, destination, url) => {\n    let ajaxRequest = (resource, edit) => {\n        if (resource !== '') {\n            $.get(url, {resource: resource}, function (data) {\n                destination.empty();\n                if (data.length > 0) {\n                    for (let action of data) {\n                        destination.append($('<option>', {value: action[0], text: action[1]}));\n                    }\n                    edit && destination.val(destination.data('value'));\n                } else {\n                    destination.append($('<option>', {value: '', text: I18n.t('helpers.select.no_options')}));\n                }\n                $('.selectpicker').selectpicker('refresh');\n            })\n                .fail(function () {\n                    toastr.warning(I18n.t('messages.try_again'));\n                });\n        }\n    };\n\n    ajaxRequest(source.val(), true);\n\n    source.on('change', function (e) {\n        let resource = $(e.target).val();\n        ajaxRequest(resource, false);\n    });\n};\n\nexport {cascadeSelects};\n"]},"metadata":{},"sourceType":"module"}
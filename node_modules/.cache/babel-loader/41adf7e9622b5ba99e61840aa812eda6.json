{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport swal from 'sweetalert';\nimport $ from 'jquery';\nimport I18n from 'i18n-js';\nimport select2 from 'select2';\nimport 'javascripts/i18n/translations';\nimport { toastr } from './notifications';\nI18n.locale = window.I18n.locale;\ndocument.addEventListener(\"turbolinks:before-cache\", function () {\n  $('[data-toggle=\"m-tooltip\"]').tooltip('hide');\n  $('.selectpicker').selectpicker('destroy');\n});\n$(document).on('turbolinks:load', function () {\n  $('.dir').click(function (e) {\n    e.stopPropagation();\n    $(this).children().slideToggle();\n  });\n  $('li').on('click', function () {\n    $(this).siblings().removeClass('active');\n    $(this).addClass('active');\n  }); // Custom search field for table content\n\n  $('.search-field').on('change', function () {\n    var $this = $(this);\n    $this.toggleClass('expand-input', $this.val() ? true : false);\n  });\n  $('[data-toggle=\"tooltip\"]').tooltip(); // Sweet Alert modal for delete elements\n\n  $('.btn-destroy').click(function (event) {\n    var element, resource, resourceId, resourceMsg, row, url, authenticityToken;\n    element = $(this);\n    row = element.closest('tr');\n    resource = element.data('resource');\n    resourceId = element.data('resource-id');\n    resourceMsg = element.data('resource-message');\n    url = \"/\".concat(resource, \"/\").concat(resourceId);\n    authenticityToken = $('[name=\"csrf-token\"]')[0] && $('[name=\"csrf-token\"]')[0].content;\n    swal(resourceMsg, {\n      buttons: {\n        cancel: I18n.t('messages.cancel'),\n        confirm: {\n          text: I18n.t('messages.delete'),\n          closeModal: true\n        }\n      }\n    }).then(function (isConfirm) {\n      if (!isConfirm) {\n        return;\n      }\n\n      $.ajax({\n        url: url,\n        data: {\n          authenticity_token: authenticityToken\n        },\n        type: 'DELETE',\n        dataType: 'json',\n        success: function success(data) {\n          swal({\n            title: I18n.t('messages.done'),\n            text: I18n.t('messages.deleted'),\n            type: 'success',\n            confirmButtonText: I18n.t('messages.ok')\n          });\n          $(row).remove();\n        },\n        error: function error(_error) {\n          var message = I18n.t('messages.try_again');\n\n          if (_error.responseJSON && _error.responseJSON.message) {\n            message = _error.responseJSON.message;\n          }\n\n          swal(I18n.t('messages.error'), message, 'error');\n        }\n      });\n    });\n  }); // bootstrap-select initializer\n\n  $('.selectpicker, .per-page-selectpicker').selectpicker(); // select2 initializer\n\n  $('.select2-multiple').select2({\n    closeOnSelect: false\n  }); // Submit for elements per page on tables\n\n  $('.per-page-pagination').on('change', function () {\n    $(this).closest('form').submit();\n  }); // Simulate click for file_field on edit user\n\n  $('.hover-image').on('click', function () {\n    $('.update-picture').click();\n  }); // Replace profile picture on edit user\n\n  $('.update-picture').on('change', function () {\n    readURL(this);\n  });\n  $('.price').blur(function () {\n    var sum = 0;\n    $('.price').each(function () {\n      sum += Number($(this).val());\n    });\n    document.getElementById(\"totalId\").value = sum;\n    console.log(sum);\n  });\n\n  if (document.getElementById(\"idStepOne\")) {\n    var stepOne = document.getElementById(\"idStepOne\").value;\n    var stepTwo = document.getElementById(\"idStepTwo\").value;\n    var stepThree = document.getElementById(\"idStepThree\").value;\n    var stepFour = document.getElementById(\"idStepFour\").value;\n    var stepFive = document.getElementById(\"idStepFive\").value;\n    var stepSix = document.getElementById(\"idStepSix\").value;\n  }\n\n  if (!stepOne) {\n    $('#step-0').show();\n    $(\"#buttonCero\").hide();\n  }\n\n  if (stepOne && !stepTwo) {\n    $('#step-1').show();\n    $(\"#buttonOne\").hide();\n  }\n\n  if (stepTwo && !stepThree) {\n    $('#step-2').show();\n    $(\"#buttonTwo\").hide();\n  }\n\n  if (stepThree && !stepFour) {\n    $('#step-3').show();\n    $(\"#buttonThree\").hide();\n  }\n\n  if (stepFour && !stepFive) {\n    $('#step-4').show();\n    $(\"#buttonFour\").hide();\n  }\n\n  if (stepFive && !stepSix) {\n    $('#step-5').show();\n    $(\"#buttonFive\").hide();\n  }\n\n  if (stepSix) {\n    $('#step-6').show();\n  }\n\n  window.prevPageNew = function (prev, current) {\n    $(\"#step-\" + current).hide();\n    $(\"#step-\" + prev).show();\n  };\n\n  window.nextPageNew = function (next, current) {\n    $(\"#step-\" + current).hide();\n    $(\"#step-\" + next).show();\n  };\n\n  window.prevPage = function (prev, current) {\n    console.log(\"prev page\");\n    document.getElementById(\"page-\" + prev).style.display = \"block\";\n    document.getElementById(\"page-\" + current).style.display = \"none\";\n    document.getElementById(\"step\" + current).style.opacity = 0.5;\n    $(\"#step\" + prev).removeClass('completed').addClass('active');\n    $(\"#ind\" + prev).removeClass('active');\n    $(\"#step\" + current).removeClass('completed').removeClass('active');\n    $(\"#step\" + prev + \" > .step-icon\").html(prev);\n    $(\"#stepDesc\" + current).addClass('inactive');\n  };\n\n  window.nextPage = function (next, current) {\n    document.getElementById(\"page-\" + next).style.display = \"block\";\n    document.getElementById(\"page-\" + current).style.display = \"none\";\n    document.getElementById(\"step\" + next).style.opacity = 1;\n    $(\"#step\" + next).addClass('active');\n    $(\"#stepDesc\" + next).removeClass('inactive');\n    $(\"#step\" + current).addClass('completed').removeClass('active');\n    $(\"#ind\" + current).addClass('active');\n    $(\"#step\" + current + \" > .step-icon\").html(\"<i class='fa fa-check' aria-hidden='true'></i>\");\n  };\n\n  $('input.focusable-input').focus(function () {\n    $(this).parent().parent().addClass('highlightedRowColumn');\n    var colIdx = $(this).closest(\"td\").index();\n    $(\"td:nth-child(\" + (colIdx + 1) + \")\").addClass('highlightedRowColumn');\n  });\n  $('input.focusable-input').blur(function () {\n    $(this).parent().parent().removeClass('highlightedRowColumn');\n    var colIdx = $(this).closest(\"td\").index();\n    $(\"td:nth-child(\" + (colIdx + 1) + \")\").removeClass('highlightedRowColumn');\n  });\n  $(document).ready(function () {\n    $(\"td\").filter(function (index) {\n      return $(this).html() == \"0\";\n    }).parent().addClass(\"zero\");\n  });\n  $(\"td:contains('1')\").parent().addClass(\"one\");\n});\n\nvar readURL = function readURL(input) {\n  if (input.files[0]) {\n    var reader = new FileReader();\n    var ext = getFileExtension(input.files[0].name);\n    var validImageTypes = ['gif', 'jpeg', 'png', 'jpg'];\n\n    if (validImageTypes.includes(ext)) {\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  reader.onload = function (e) {\n    $('.profile-picture').attr('src', e.target.result);\n    $('.profile-picture').attr('style', 'object-fit:cover; width:130px; height:130px;');\n  };\n};\n\nvar getFileExtension = function getFileExtension(filename) {\n  return filename.split('.').pop();\n};\n\nvar cascadeSelects = function cascadeSelects(source, destination, url) {\n  var ajaxRequest = function ajaxRequest(resource, edit) {\n    if (resource !== '') {\n      $.get(url, {\n        resource: resource\n      }, function (data) {\n        destination.empty();\n\n        if (data.length > 0) {\n          var _iterator = _createForOfIteratorHelper(data),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var action = _step.value;\n              destination.append($('<option>', {\n                value: action[0],\n                text: action[1]\n              }));\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          edit && destination.val(destination.data('value'));\n        } else {\n          destination.append($('<option>', {\n            value: '',\n            text: I18n.t('helpers.select.no_options')\n          }));\n        }\n\n        $('.selectpicker').selectpicker('refresh');\n      }).fail(function () {\n        toastr.warning(I18n.t('messages.try_again'));\n      });\n    }\n  };\n\n  ajaxRequest(source.val(), true);\n  source.on('change', function (e) {\n    var resource = $(e.target).val();\n    ajaxRequest(resource, false);\n  });\n};\n\nexport { cascadeSelects };","map":{"version":3,"sources":["/Users/vponce/Desarrollos/credits_factor_global/app/javascript/packs/general.js"],"names":["swal","$","I18n","select2","toastr","locale","window","document","addEventListener","tooltip","selectpicker","on","click","e","stopPropagation","children","slideToggle","siblings","removeClass","addClass","$this","toggleClass","val","event","element","resource","resourceId","resourceMsg","row","url","authenticityToken","closest","data","content","buttons","cancel","t","confirm","text","closeModal","then","isConfirm","ajax","authenticity_token","type","dataType","success","title","confirmButtonText","remove","error","message","responseJSON","closeOnSelect","submit","readURL","blur","sum","each","Number","getElementById","value","console","log","stepOne","stepTwo","stepThree","stepFour","stepFive","stepSix","show","hide","prevPageNew","prev","current","nextPageNew","next","prevPage","style","display","opacity","html","nextPage","focus","parent","colIdx","index","ready","filter","input","files","reader","FileReader","ext","getFileExtension","name","validImageTypes","includes","readAsDataURL","onload","attr","target","result","filename","split","pop","cascadeSelects","source","destination","ajaxRequest","edit","get","empty","length","action","append","fail","warning"],"mappings":"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","sourcesContent":["import swal from 'sweetalert';\nimport $ from 'jquery';\nimport I18n from 'i18n-js';\nimport select2 from 'select2';\nimport 'javascripts/i18n/translations';\nimport {toastr} from './notifications';\n\nI18n.locale = window.I18n.locale;\n\ndocument.addEventListener(\"turbolinks:before-cache\", function () {\n    $('[data-toggle=\"m-tooltip\"]').tooltip('hide');\n    $('.selectpicker').selectpicker('destroy');\n});\n\n$(document).on('turbolinks:load', function () {\n\n    $('.dir').click(function (e) {\n        e.stopPropagation();\n        $(this).children().slideToggle();\n    });\n\n    $('li').on('click', function () {\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n    });\n\n    // Custom search field for table content\n    $('.search-field').on('change', function () {\n        let $this = $(this);\n        $this.toggleClass('expand-input', $this.val() ? true : false);\n    });\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    // Sweet Alert modal for delete elements\n    $('.btn-destroy').click(function (event) {\n        let element, resource, resourceId, resourceMsg, row, url, authenticityToken;\n        element = $(this);\n        row = element.closest('tr');\n        resource = element.data('resource');\n        resourceId = element.data('resource-id');\n        resourceMsg = element.data('resource-message');\n        url = `/${resource}/${resourceId}`;\n        authenticityToken = $('[name=\"csrf-token\"]')[0] && $('[name=\"csrf-token\"]')[0].content;\n        swal(resourceMsg, {\n            buttons: {\n                cancel: I18n.t('messages.cancel'),\n                confirm: {\n                    text: I18n.t('messages.delete'),\n                    closeModal: true\n                }\n            }\n        }).then(function (isConfirm) {\n            if (!isConfirm) {\n                return;\n            }\n            $.ajax({\n                url: url,\n                data: {authenticity_token: authenticityToken},\n                type: 'DELETE',\n                dataType: 'json',\n                success: function (data) {\n                    swal({\n                        title: I18n.t('messages.done'),\n                        text: I18n.t('messages.deleted'),\n                        type: 'success',\n                        confirmButtonText: I18n.t('messages.ok')\n                    });\n                    $(row).remove();\n                },\n                error: function (error) {\n                    let message = I18n.t('messages.try_again');\n                    if (error.responseJSON && error.responseJSON.message) {\n                        message = error.responseJSON.message;\n                    }\n                    swal(I18n.t('messages.error'), message, 'error');\n                }\n            });\n        });\n    });\n\n    // bootstrap-select initializer\n    $('.selectpicker, .per-page-selectpicker').selectpicker();\n\n    // select2 initializer\n    $('.select2-multiple').select2({\n        closeOnSelect: false,\n    });\n\n    // Submit for elements per page on tables\n    $('.per-page-pagination').on('change', function () {\n        $(this).closest('form').submit();\n    });\n\n    // Simulate click for file_field on edit user\n    $('.hover-image').on('click', function () {\n        $('.update-picture').click();\n    });\n\n    // Replace profile picture on edit user\n    $('.update-picture').on('change', function () {\n        readURL(this);\n    });\n\n    $('.price').blur(function () {\n        var sum = 0;\n        $('.price').each(function () {\n            sum += Number($(this).val());\n        });\n\n        document.getElementById(\"totalId\").value = sum;\n\n        console.log(sum);\n    });\n\n\n    if(document.getElementById(\"idStepOne\")){\n        var stepOne = document.getElementById(\"idStepOne\").value;\n        var stepTwo = document.getElementById(\"idStepTwo\").value;\n        var stepThree = document.getElementById(\"idStepThree\").value;\n        var stepFour = document.getElementById(\"idStepFour\").value;\n        var stepFive = document.getElementById(\"idStepFive\").value;\n        var stepSix = document.getElementById(\"idStepSix\").value;\n    }\n\n\n    if (!stepOne) {\n        $('#step-0').show();\n        $(\"#buttonCero\").hide();\n    }\n\n    if (stepOne && !stepTwo) {\n        $('#step-1').show();\n        $(\"#buttonOne\").hide();\n    }\n\n    if (stepTwo && !stepThree) {\n        $('#step-2').show();\n        $(\"#buttonTwo\").hide();\n    }\n\n    if (stepThree && !stepFour) {\n        $('#step-3').show();\n        $(\"#buttonThree\").hide();\n    }\n\n    if (stepFour && !stepFive) {\n        $('#step-4').show();\n        $(\"#buttonFour\").hide();\n    }\n\n    if (stepFive && !stepSix) {\n        $('#step-5').show();\n        $(\"#buttonFive\").hide();\n    }\n\n    if (stepSix) {\n        $('#step-6').show();\n    }\n\n\n    window.prevPageNew = function (prev, current) {\n        $(\"#step-\" + current).hide();\n        $(\"#step-\" + prev).show();\n\n\n    };\n\n    window.nextPageNew = function (next, current) {\n        $(\"#step-\" + current).hide();\n        $(\"#step-\" + next).show();\n\n    };\n\n\n    window.prevPage = function (prev, current) {\n        console.log(\"prev page\");\n        document.getElementById(\"page-\" + prev).style.display = \"block\";\n        document.getElementById(\"page-\" + current).style.display = \"none\";\n        document.getElementById(\"step\" + current).style.opacity = 0.5;\n\n        $(\"#step\" + prev).removeClass('completed').addClass('active');\n        $(\"#ind\" + prev).removeClass('active');\n\n        $(\"#step\" + current).removeClass('completed').removeClass('active');\n        $(\"#step\" + prev + \" > .step-icon\").html(prev);\n\n\n        $(\"#stepDesc\" + current).addClass('inactive');\n    }\n\n    window.nextPage = function (next, current) {\n        document.getElementById(\"page-\" + next).style.display = \"block\";\n        document.getElementById(\"page-\" + current).style.display = \"none\";\n        document.getElementById(\"step\" + next).style.opacity = 1;\n\n        $(\"#step\" + next).addClass('active');\n\n        $(\"#stepDesc\" + next).removeClass('inactive');\n        $(\"#step\" + current).addClass('completed').removeClass('active');\n        $(\"#ind\" + current).addClass('active');\n        $(\"#step\" + current + \" > .step-icon\").html(\"<i class='fa fa-check' aria-hidden='true'></i>\");\n    }\n\n    $('input.focusable-input').focus(function() {\n        $(this).parent().parent().addClass('highlightedRowColumn');\n        var colIdx = $(this).closest(\"td\").index();\n        $(\"td:nth-child(\" + (colIdx +1) + \")\").addClass('highlightedRowColumn');\n    });\n\n    $('input.focusable-input').blur(function() {\n        $(this).parent().parent().removeClass('highlightedRowColumn');\n        var colIdx = $(this).closest(\"td\").index();\n        $(\"td:nth-child(\" + (colIdx +1) + \")\").removeClass('highlightedRowColumn');\n    });\n\n\n    $(document).ready(function(){\n        $(\"td\").filter(function(index) {\n            return $(this).html() == \"0\";\n        }).parent().addClass(\"zero\");\n    });\n    $(\"td:contains('1')\").parent().addClass(\"one\");\n});\n\nlet readURL = (input) => {\n    if (input.files[0]) {\n        var reader = new FileReader();\n        let ext = getFileExtension(input.files[0].name);\n        let validImageTypes = ['gif', 'jpeg', 'png', 'jpg'];\n        if (validImageTypes.includes(ext)) {\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n\n    reader.onload = function (e) {\n        $('.profile-picture').attr('src', e.target.result);\n        $('.profile-picture').attr('style', 'object-fit:cover; width:130px; height:130px;');\n    }\n};\n\nlet getFileExtension = (filename) => {\n    return filename.split('.').pop();\n};\n\nlet cascadeSelects = (source, destination, url) => {\n    let ajaxRequest = (resource, edit) => {\n        if (resource !== '') {\n            $.get(url, {resource: resource}, function (data) {\n                destination.empty();\n                if (data.length > 0) {\n                    for (let action of data) {\n                        destination.append($('<option>', {value: action[0], text: action[1]}));\n                    }\n                    edit && destination.val(destination.data('value'));\n                } else {\n                    destination.append($('<option>', {value: '', text: I18n.t('helpers.select.no_options')}));\n                }\n                $('.selectpicker').selectpicker('refresh');\n            })\n                .fail(function () {\n                    toastr.warning(I18n.t('messages.try_again'));\n                });\n        }\n    };\n\n    ajaxRequest(source.val(), true);\n\n    source.on('change', function (e) {\n        let resource = $(e.target).val();\n        ajaxRequest(resource, false);\n    });\n};\n\nexport {cascadeSelects};\n"]},"metadata":{},"sourceType":"module"}